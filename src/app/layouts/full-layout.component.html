
<header class="app-header navbar">
  <button class="navbar-toggler mobile-sidebar-toggler hidden-lg-up" type="button">&#9776;</button>
  <a class="navbar-brand" href="#"></a>

  <ul class="nav navbar-nav hidden-md-down b-r-1">
    <li class="nav-item">
      <a class="nav-link navbar-toggler sidebar-toggler" href="#">&#9776;</a>
    </li>
  </ul>
  <form class="form-inline b-r-1 px-2 hidden-md-down">
    <i class="fa fa-search"></i>
    <input class="form-control" type="text" placeholder="Search...">
  </form>
  <ul class="nav navbar-nav ml-auto">
    <!--<li class="nav-item dropdown hidden-md-down" dropdown placement="bottom right" (onToggle)="toggled($event)">
      <a class="nav-link nav-pill" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" dropdownToggle>
        <i class="icon-bell"></i><span class="badge badge-pill badge-danger">5</span>
      </a>
      <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg" *dropdownMenu aria-labelledby="simple-dropdown">

        <div class="dropdown-header text-center"><strong>You have 5 notifications</strong></div>

        <a href="#" class="dropdown-item">
          <i class="icon-user-follow text-success"></i> New user registered
        </a>
        <a href="#" class="dropdown-item">
          <i class="icon-user-unfollow text-danger"></i> User deleted
        </a>
        <a href="#" class="dropdown-item">
          <i class="icon-chart text-info"></i> Sales report is ready
        </a>
        <a href="#" class="dropdown-item">
          <i class="icon-basket-loaded text-primary"></i> New client
        </a>
        <a href="#" class="dropdown-item">
          <i class="icon-speedometer text-warning"></i> Server overloaded
        </a>

        <div class="dropdown-header text-center"><strong>Server</strong></div>

        <a href="#" class="dropdown-item">
          <div class="text-uppercase mb-q"><small><b>CPU Usage</b></small></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-info" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
          <small class="text-muted">348 Processes. 1/4 Cores.</small>
        </a>
        <a href="#" class="dropdown-item">
          <div class="text-uppercase mb-q"><small><b>Memory Usage</b></small></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-warning" role="progressbar" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
          <small class="text-muted">11444GB/16384MB</small>
        </a>
        <a href="#" class="dropdown-item">
          <div class="text-uppercase mb-q"><small><b>SSD 1 Usage</b></small></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-danger" role="progressbar" style="width: 95%" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
          <small class="text-muted">243GB/256GB</small>
        </a>

      </div>
    </li>
    <li class="nav-item dropdown hidden-md-down" dropdown placement="bottom right" (onToggle)="toggled($event)">
      <a class="nav-link nav-pill" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" dropdownToggle>
        <i class="icon-list"></i><span class="badge badge-pill badge-warning">15</span>
      </a>
      <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg" *dropdownMenu aria-labelledby="simple-dropdown">
        <div class="dropdown-header text-center"><strong>You have 5 pending tasks</strong></div>
        <a href="#" class="dropdown-item">
          <div class="small mb-q">Upgrade NPM &amp; Bower <span class="float-right"><strong>0%</strong></span></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-info" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
        </a>
        <a href="#" class="dropdown-item">
          <div class="small mb-q">ReactJS Version <span class="float-right"><strong>25%</strong></span></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-danger" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
        </a>
        <a href="#" class="dropdown-item">
          <div class="small mb-q">VueJS Version <span class="float-right"><strong>50%</strong></span></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-warning" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
        </a>
        <a href="#" class="dropdown-item">
          <div class="small mb-q">Add new layouts <span class="float-right"><strong>75%</strong></span></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-info" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
        </a>
        <a href="#" class="dropdown-item">
          <div class="small mb-q">Angular 2 Cli Version <span class="float-right"><strong>100%</strong></span></div>
          <span class="progress progress-xs">
            <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
          </span>
        </a>
        <a href="#" class="dropdown-item text-center">
          <strong>View all tasks</strong>
        </a>
      </div>
    </li>-->
    <li class="nav-item" *ngIf="!authenticated">
      <button class="btn btn-secondary" (click)="login()">Login</button>
    </li>
    <li class="nav-item dropdown" dropdown placement="bottom right" *ngIf="authenticated">
      <ng-template [ngIf]="auth.isAuthenticated()">
      <a class="nav-link nav-pill avatar" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
         aria-expanded="false" dropdownToggle>
        <img [src]="auth.getUserInfo()['photoURL']" class="img-avatar" alt="admin@bootstrapmaster.com">
        <!--<span class="badge badge-pill badge-danger">9</span>-->
      </a>
      <div class="dropdown-menu dropdown-menu-right" *dropdownMenu aria-labelledby="simple-dropdown">
        <a class="dropdown-item" (click)="profileModal.show()"><i class="fa fa-user"></i> Profile</a>
        <a class="dropdown-item" routerLink='/admin'><i class="fa fa-hashtag"></i> Manage Hashtags</a>
        <a class="dropdown-item" (click)="auth.logout()"><i class="fa fa-lock"></i> Logout</a>
      </div>
      </ng-template>
    </li>

  </ul>
</header>

<div class="app-body">
  <div class="sidebar">
    <nav class="sidebar-nav">
      <ul class="nav" *ngIf="loaded">
        <!--<li class="nav-title text-center">
          <span>Home</span>
        </li>-->

        <li class="nav-item">
          <a class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"
             [routerLink]="['/dashboard']">
            <i style="font-size: 18px; vertical-align: bottom;" class="material-icons sidebar-icons md-36"> dashboard</i> Dashboard </a>
        </li>

    <!--    <li class="nav-title text-center">
          <span>Categories</span>
        </li>-->
        <li class="nav-item" *ngFor="let cat of categories">

          <a class="nav-link" routerLinkActive="active" [routerLink]="['/dashboard']" [queryParams]=" {cat: cat['id']}">
            <span [ngSwitch]="cat['name']">
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchCase="'Top Trends'" class="material-icons sidebar-icons md-36 ">trending_up</i>
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchCase="'Business'" class="material-icons sidebar-icons md-36 ">business</i>
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchCase="'Entertainment'" class="material-icons sidebar-icons md-36 ">movie</i>
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchCase="'Sports'" class="fa fa-soccer-ball-o sidebar-icons "></i>
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchCase="'Science'" class="material-icons sidebar-icons md-36 ">polymer</i>
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchCase="'Technology'" class="material-icons sidebar-icons md-36 ">memory</i>
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchCase="'Health'" class="material-icons sidebar-icons md-36 ">local_pharmacy</i>
              <i style="font-size: 18px; vertical-align: bottom;" *ngSwitchDefault class="fa sidebar-icons fa-arrow-circle-o-right"></i>
            </span>{{cat['name']}}</a>
        </li>

      </ul>
    </nav>
  </div>

  <!-- Main content -->
  <main class="main">

    <!-- Breadcrumb -->
    <ol class="breadcrumb mb-0">
<!--      <breadcrumbs></breadcrumbs>-->
    </ol>

    <div class="container-fluid">
      <router-outlet></router-outlet>
    </div>
    <!-- /.conainer-fluid -->
  </main>


</div>

<footer class="app-footer p-l-2">
  &copy; 2017 Socialyze<!--
  <span class="float-right">
    Powered by <a href="https://genesisui.com">GenesisUI</a>
  </span>-->
</footer>

<div bsModal #profileModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true" >
  <ng-template [ngIf]="auth.isAuthenticated()">

  <div class="modal-dialog modal-primary" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Profile</h4>
        <button type="button" class="close" (click)="profileModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!--<img [src]="auth.getUserInfo()['photoURL']" class="img-fluid img-circle align-content-center">-->

        <table class="table table-condensed">

          <tbody>
          <tr>
            <td colspan="2" class="align-content-center">
              <img [src]="auth.getUserInfo()['photoURL']" class="img-circle" style="width:300px; height:auto; display:block; margin:0 auto"/>
            </td>
          </tr>
          <tr>
            <th>Name</th>
            <td>{{auth.getUserInfo()['displayName']}}</td>
          </tr>
          <tr>
            <th>Email</th>
            <td>{{auth.getUserInfo()['email']}}</td>
          </tr>
          <tr>
            <th>Location</th>
            <td *ngIf="location != undefined; else noSupport">{{location.name}}, {{location.adminName1}}, {{location.countryName}}</td>
            <ng-template #noSupport> <td> Your browser doesn't support GeoLocation</td></ng-template>
          </tr>
          </tbody>
        </table>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="profileModal.hide()">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
  </ng-template>

</div><!-- /.modal -->
